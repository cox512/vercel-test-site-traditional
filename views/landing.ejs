<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./head.ejs') %>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <main class="about__display--row">
        <h1>Intercom Test Site - Traditional installation</h1>
        <p>Please enter your details to log in to Intercom.</p>
    </main>

    <div class="forms-container">
        <div class="form-column">
            <div class="form-container">
                <form id="userDataForm">
                    <div class="form-group">
                        <label for="user_id">User ID:</label>
                        <input type="text" id="user_id" name="user_id">
                    </div>
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email">
                    </div>
                    <div class="form-group">
                        <label for="company_id">Company ID:</label>
                        <input type="text" id="company_id" name="company_id">
                    </div>
                    <div class="form-group">
                        <label for="company">Company Name:</label>
                        <input type="text" id="company" name="company">
                    </div>
                    <div class="button-group">
                        <button type="submit" class="submit-btn">Boot User</button>
                        <button type="button" class="clear-btn" onclick="clearBootForm()">Clear Form</button>
                    </div>
                </form>
            </div>

            <div class="form-container">
                <h3>Add Custom Attributes</h3>
                <form id="customAttributesForm">
                    <div class="form-group">
                        <label for="attribute_name">Attribute Name:</label>
                        <input type="text" id="attribute_name" name="attribute_name" placeholder="e.g., subscription_type">
                    </div>
                    <div class="form-group">
                        <label for="attribute_value">Attribute Value:</label>
                        <input type="text" id="attribute_value" name="attribute_value" placeholder="e.g., premium">
                    </div>
                    <div class="button-group">
                        <button type="submit" class="submit-btn">Update User</button>
                        <button type="button" class="clear-btn" onclick="clearAttributesForm()">Clear Form</button>
                    </div>
                </form>
            </div>

            <div class="action-buttons">
                <button type="button" class="empty-update-btn" onclick="performEmptyUpdate()">Empty Update</button>
                <button type="button" class="shutdown-btn" onclick="performShutdown()">Shutdown</button>
            </div>
        </div>

        <div class="form-column">
            <div class="modal-buttons-container">
                <h2 style="text-align: center; margin-bottom: 20px;">Modals</h2>
                <button type="button" class="modal-btn" onclick="openModal('trackEventModal')">Track Events</button>
                <button type="button" class="modal-btn" onclick="openModal('tourModal')">Trigger Tour</button>
            </div>
        </div>
    </div>

    <div class="bot-buttons">
        <div class="button-row" data-intercom-target="bot-button">
            <button type="button" class="button-bot button-one">Bot Button</button>
        </div>
        <div class="button-row">
            <button type="button" class="button-tour-one" onclick="Intercom('startTour', 598573)">Tour Button</button>
            <a class="tour_link" href="https://intercom-trad-demo.vercel.app/?product_tour_id=617424">Tour Link</a>
        </div>
        <div class="button-row">
            <button type="button" class="button-survey-one" onclick="Intercom('startSurvey', 24407803)">Large Survey</button>
            <button type="button" class="button-survey-two" onclick="Intercom('startSurvey', 24407890)">Small Survey</button>
            <a class="survey_link" href="https://intercom-trad-demo.vercel.app?intercom_survey_id=24407890">Survey Link</a>
        </div>
        <div class="button-row">
            <a class="button-help-center" href="https://intercom.help/narnia-4d7ae34e3be0">Help Center</a>
        </div>
        <div class="button-row">
            <button type="button" class="button-bot button-one" id="event" onclick="Intercom('trackEvent', 'event-click')" data-intercom-target="Button">Event</button>
        </div>
        <div class="button-row">
            <a href="/new-tab" target="_blank">Link to a new tab</a>
        </div>
        <div class="button-row">
            <a href="/page-two">Page Two</a>
        </div>
    </div>

    <!-- Track Events Modal -->
    <div id="trackEventModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Track Events</h3>
                <p>You can dismiss this modal by clicking anywhere outside of it.</p>
                <span class="close" onclick="closeModal('trackEventModal')">&times;</span>
            </div>
            <div class="modal-body">
                <form id="trackEventForm">
                    <div class="form-group">
                        <label for="event_name">Event Name:</label>
                        <input type="text" id="event_name" name="event_name" required placeholder="e.g., invited-friend">
                    </div>
                    <div class="form-group">
                        <label for="metadata_name">Metadata Name:</label>
                        <input type="text" id="metadata_name" name="metadata_name" placeholder="e.g., invitee_email">
                    </div>
                    <div class="form-group">
                        <label for="metadata_value">Metadata Value:</label>
                        <input type="text" id="metadata_value" name="metadata_value" placeholder="e.g., pi@example.org">
                    </div>
                    <div class="button-group">
                        <button type="submit" class="submit-btn">Submit</button>
                        <button type="button" class="clear-btn" onclick="clearTrackEventForm()">Clear Form</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Trigger Tour Modal -->
    <div id="tourModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Trigger Tour</h3>
                <p>You must submit, cancel, or dismiss this modal to access the background UI.</p>
                <span class="close" onclick="closeModal('tourModal')">&times;</span>
            </div>
            <div class="modal-body">
                <form id="tourForm">
                    <div class="form-group">
                        <label for="tour_id">Tour ID:</label>
                        <input type="number" id="tour_id" name="tour_id" required placeholder="e.g., 123">
                    </div>
                    <div class="button-group">
                        <button type="submit" class="submit-btn">Start Tour</button>
                        <button type="button" class="clear-btn" onclick="clearTourForm()">Clear Form</button>
                        <button type="button" class="clear-btn" onclick="closeModal('tourModal')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="/scripts.js"></script>
    <%- include('./messenger-visitor.ejs') %>

</body>
</html>
